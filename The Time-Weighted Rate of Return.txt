The Time-Weighted Rate of Return (TWRR) looks intimidating at first glance, but conceptually, it is very straightforward. It is designed to completely eliminate the distorting effects of cash flowing in or out of your portfolio.

To do this, TWRR doesn't treat your investment journey as one long timeline. Instead, it chops your timeline up into smaller "sub-periods" every single time you make a deposit or a withdrawal.

Here is how the formula works, broken down step-by-step.

### Step 1: Calculate the Holding Period Return (HPR)

First, you must calculate the return for each individual sub-period. A new sub-period begins the moment money is added or removed.

The formula for a single sub-period is:
**HPR = (Ending Value - Beginning Value) / Beginning Value**

*Crucial Rule:* The "Ending Value" of a sub-period must be the portfolio's value **immediately before** the new cash is added.

Let's say you invest for one year, but you add money in the middle of the year. You now have two sub-periods:

* **Period 1 (Jan 1 to June 30):** You start with $10,000. On June 30th, right before you make your deposit, your portfolio has grown to $11,000.
* HPR 1 = ($11,000 - $10,000) / $10,000 = **0.10 (or 10%)**


* **Period 2 (July 1 to Dec 31):** You add $5,000, bringing your new Beginning Value to $16,000 ($11k + $5k). By December 31st, the portfolio grows to $16,800.
* HPR 2 = ($16,800 - $16,000) / $16,000 = **0.05 (or 5%)**



### Step 2: "Chain" the Sub-Periods Together

Once you have the return for every mini-period, you link them together. You do this by adding 1 to each HPR (which gives you the growth multiplier), multiplying all those periods together, and then subtracting 1 at the end.

The linking formula is:
**TWRR = [ (1 + HPR_1) × (1 + HPR_2) × ... × (1 + HPR_n) ] - 1**

Using our numbers from above:

* TWRR = [ (1 + 0.10) × (1 + 0.05) ] - 1
* TWRR = [ 1.10 × 1.05 ] - 1
* TWRR = 1.155 - 1
* **TWRR = 0.155 (or 15.5%)**

Your actual Time-Weighted Rate of Return for the year is **15.5%**.

### Why this is mathematically beautiful:

Notice how the $5,000 deposit didn't skew the results at all?

If you had used the basic CAGR formula on this same example (Starting with $10,000, ending with $16,800, and trying to back out the $5,000 deposit), the math would have told you your return was roughly 18%. It would have wrongly given your portfolio credit for the sheer fact that you dumped extra cash into it.

By taking a "snapshot" of the growth right before the deposit occurred, and treating the post-deposit timeline as a brand new calculation, TWRR isolated the pure performance of the underlying assets.

### Step 3: Annualize (If necessary)

If your total timeline was exactly one year (like the example above), you are done. But if you are calculating TWRR across multiple years, you have to annualize that final number so you can express it as a yearly average (a Compound Annual Growth Rate).

The formula to annualize TWRR is:
**Annualized TWRR = (1 + TWRR) ^ (1 / Years) - 1**

If the 15.5% growth in the example above had taken place over 3 years instead of 1 year, you would calculate: (1.155) ^ (1 / 3) - 1, which equals an annualized rate of about 4.9%.